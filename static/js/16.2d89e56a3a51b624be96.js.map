{"version":3,"sources":["webpack:///src/view/DailyOperation/center/children/jifangAll.vue","webpack:///./src/view/DailyOperation/center/children/jifangAll.vue?81a8","webpack:///./src/view/DailyOperation/center/children/jifangAll.vue"],"names":["jifangAll","name","data","backgroundImage","__1_2_default","a","container","Math","random","toString","substr","camera","scene","renderer","mesh","keyboard","KeyboardState","controls","targetList","projector","SCREEN_WIDTH","SCREEN_HEIGHT","mouse","x","y","mixins","websock","computed","showType","this","$route","params","type","methods","extends_default","Object","vuex_esm","useTheTestDate","init","sourDate","document","getElementById","THREE","Scene","clientWidth","clientHeight","PerspectiveCamera","position","set","lookAt","WebGLRenderer","antialias","alpha","setClearColor","setSize","appendChild","domElement","directionalLight","DirectionalLight","color","setHSL","normalize","add","ambient","AmbientLight","OrbitControls","initModel","Projector","addEventListener","onDocumentMouseDown","onDocumentMouseMove","update","pressed","translateX","translateZ","translateY","pan","Vector3","animate","requestAnimationFrame","render","initBase","createFloor","StartWall","createCubeWall","StartWallDoor","StartWallWindowOne","createCubeWindow","StartWallWindowTwo","objestList","push","StartWallCut","createResultBsp","createDoor_left","EndWall","EndWallOne","EndobjestList","EndWallCut","LeftWall","PI","LeftWallOne","LeftWalljestList","EndWallCutL","RightWall","RightWallOne","RightWalljestList","EndWallCutR","model","i","length","c","createCabinet","size","w","servers","h","d","z","texture","ImageUtils","loadTexture","wrapS","wrapT","RepeatWrapping","repeat","floorGeometry","PlaneGeometry","floorMaterial","MeshBasicMaterial","map","side","DoubleSide","opacity","transparent","floor","Mesh","rotation","px","py","pz","rx","ry","rz","geometry","BoxGeometry","meterial","glassW","width","height","depth","angle","_this","TextureLoader","load","minFilter","LinearFilter","doorgeometry","translate","doormaterial","door","bsp","objectscube","material","MeshPhongMaterial","specular","shininess","BSP","ThreeBSP","lessbsp","subtract","result","toMesh","flatshading","FlatShading","computeFaceNormals","computeVertexNormals","needsUpdate","buffersNeedUpdate","uvsNeedUpdate","cabinet","info","JSON","parse","stringify_default","back","left","right","top","bottom","front","toggle","o","openCabinet","closeCabinet","server","createServer","device","status","ServerStatue","arguments","undefined","ClampToEdgeWrapping","texture_back","materialArray","MeshFaceMaterial","openOrClose","closeServer","openServer","hover","hoverServer","event","clientX","clientY","vector","unproject","Raycaster","sub","intersectObjects","intersects","object","console","log","setTheRouterStatus","cabinetId","uuid","$router","hoverCabinet","getWebsocketMsg","fristBack","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","next","done","base","value","item","err","return","promise_default","resolve","reject","mounted","fullUrl","wsuri","BaseUrl","dailyCenterMain","JingFangWebsockUrl","children_jifangAll","_h","$createElement","_c","_self","staticClass","style","_v","_s","attrs","id","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/16.2d89e56a3a51b624be96.js","sourcesContent":["<template>\n  <section\n    class=\"mainBox\"\n    :style=\"{ backgroundImage: ' url(' + backgroundImage + ')' }\"\n  >\n    <section class=\"mapTitle\">\n      {{\n        showType === \"东莞\"\n          ? \"东莞凤岗机房俯视图\"\n          : showType === \"深圳\"\n          ? \"深圳后海机房俯视图\"\n          : \"上海金桥机房俯视图\"\n      }}\n    </section>\n    <section class=\"mapPoint\" :id=\"container\"></section>\n  </section>\n</template>\n<script>\n/* eslint-disable no-undef */\n/* eslint-disable new-cap */\n/* eslint-disable camelcase */\n/* eslint-disable no-redeclare */\nimport backgroundImage from \"@/assets/DailyOperation/background/2-1-2.jpg\";\nimport websockObject from \"@/mixins/websock\";\nimport { mapActions } from \"vuex\";\nexport default {\n  name: \"jifang\",\n  data() {\n    return {\n      backgroundImage,\n      container: Math.random()\n        .toString(36)\n        .substr(2),\n      camera: null,\n      scene: null,\n      renderer: null,\n      mesh: null,\n      keyboard: new KeyboardState(),\n      controls: null,\n      targetList: [],\n      projector: null,\n      SCREEN_WIDTH: 0,\n      SCREEN_HEIGHT: 0,\n      mouse: { x: 0, y: 0 }\n    };\n  },\n  mixins: [websockObject],\n  computed: {\n    showType() {\n      return this.$route.params.type ? this.$route.params.type : \"东莞\";\n    }\n  },\n  methods: {\n    ...mapActions([\"setTheRouterStatus\"]),\n    useTheTestDate() {},\n    init(sourDate) {\n      let container = document.getElementById(this.container);\n      this.scene = new THREE.Scene();\n      this.SCREEN_WIDTH = container.clientWidth;\n      this.SCREEN_HEIGHT = container.clientHeight;\n      this.camera = new THREE.PerspectiveCamera(\n        100,\n        container.clientWidth / container.clientHeight,\n        0.1,\n        2000\n      );\n      this.camera.position.set(0, 300, 550);\n      this.camera.lookAt(this.scene.position);\n\n      this.renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });\n      this.renderer.setClearColor(0x000000, 0);\n      this.renderer.setSize(container.clientWidth, container.clientHeight);\n      container.appendChild(this.renderer.domElement);\n\n      var directionalLight = new THREE.DirectionalLight(0xffffff, 0.3); // 模拟远处类似太阳的光源\n      directionalLight.color.setHSL(0.1, 1, 0.95);\n      directionalLight.position.set(0, 200, 0).normalize();\n      this.scene.add(directionalLight);\n\n      var ambient = new THREE.AmbientLight(0xffffff, 1); // AmbientLight,影响整个场景的光源\n      ambient.position.set(0, 0, 0);\n      this.scene.add(ambient);\n\n      this.controls = new THREE.OrbitControls(\n        this.camera,\n        this.renderer.domElement\n      );\n      this.initModel(sourDate);\n      this.projector = new THREE.Projector();\n      // when the mouse moves, call the given function\n      document.addEventListener(\"mousedown\", this.onDocumentMouseDown, false);\n\n      // when the mouse moves, call the given function\n      document.addEventListener(\"mousemove\", this.onDocumentMouseMove, false);\n    },\n    update() {\n      this.keyboard.update();\n\n      if (this.keyboard.pressed(\"left\") || this.keyboard.pressed(\"A\")) {\n        this.camera.translateX(-5);\n      }\n\n      if (this.keyboard.pressed(\"right\") || this.keyboard.pressed(\"D\")) {\n        this.camera.translateX(5);\n      }\n\n      if (this.keyboard.pressed(\"up\") || this.keyboard.pressed(\"W\")) {\n        this.camera.translateZ(-5);\n      }\n\n      if (this.keyboard.pressed(\"down\") || this.keyboard.pressed(\"S\")) {\n        this.camera.translateZ(5);\n      }\n\n      if (this.keyboard.pressed(\"R\")) {\n        this.camera.translateY(-5);\n      }\n\n      if (this.keyboard.pressed(\"F\")) {\n        this.camera.translateY(5);\n      }\n\n      if (this.keyboard.pressed(\"Q\")) {\n        this.controls.pan(new THREE.Vector3(-10, 0, 0));\n      }\n\n      if (this.keyboard.pressed(\"E\")) {\n        this.controls.pan(new THREE.Vector3(10, 0, 0));\n      }\n\n      this.controls.update();\n    },\n    animate: function() {\n      requestAnimationFrame(this.animate);\n      this.renderer.render(this.scene, this.camera);\n      this.update();\n    },\n    initBase() {\n      this.createFloor(1200, 500);\n      let StartWall = this.createCubeWall(\n        1200,\n        130,\n        0,\n        65,\n        250,\n        0,\n        0,\n        0,\n        \"墙面\"\n      );\n      let StartWallDoor = this.createCubeWall(\n        100,\n        128,\n        0,\n        31,\n        250,\n        0,\n        0,\n        0,\n        \"门\"\n      );\n      let StartWallWindowOne = this.createCubeWindow(\n        250,\n        130,\n        -275,\n        65,\n        250,\n        0,\n        0,\n        0,\n        \"窗户\"\n      );\n      let StartWallWindowTwo = this.createCubeWindow(\n        250,\n        130,\n        275,\n        65,\n        250,\n        0,\n        0,\n        0,\n        \"窗户\"\n      );\n      let objestList = [];\n      objestList.push(StartWallDoor);\n      objestList.push(StartWallWindowOne);\n      objestList.push(StartWallWindowTwo);\n      let StartWallCut = this.createResultBsp(StartWall, objestList);\n      this.scene.add(StartWallCut);\n      this.scene.add(StartWallWindowOne);\n      this.scene.add(StartWallWindowTwo);\n      this.createDoor_left(100, 100, 0, 0, -50, 50, 250, 0, \"左门\");\n\n      let EndWall = this.createCubeWall(\n        1200,\n        130,\n        0,\n        65,\n        -250,\n        0,\n        0,\n        0,\n        \"墙面\"\n      );\n      let EndWallOne = this.createCubeWindow(\n        924,\n        130,\n        0,\n        65,\n        -250,\n        0,\n        0,\n        0,\n        \"窗户\"\n      );\n      let EndobjestList = [];\n      EndobjestList.push(EndWallOne);\n      let EndWallCut = this.createResultBsp(EndWall, EndobjestList);\n      this.scene.add(EndWallCut);\n      this.scene.add(EndWallOne);\n\n      let LeftWall = this.createCubeWall(\n        500,\n        130,\n        600,\n        65,\n        0,\n        0,\n        Math.PI / 2,\n        0,\n        \"墙面\"\n      );\n      let LeftWallOne = this.createCubeWindow(\n        400,\n        130,\n        600,\n        65,\n        0,\n        0,\n        Math.PI / 2,\n        0,\n        \"窗户\"\n      );\n      let LeftWalljestList = [];\n      LeftWalljestList.push(LeftWallOne);\n      let EndWallCutL = this.createResultBsp(LeftWall, LeftWalljestList);\n      this.scene.add(EndWallCutL);\n      this.scene.add(LeftWallOne);\n\n      let RightWall = this.createCubeWall(\n        500,\n        130,\n        -600,\n        65,\n        0,\n        0,\n        Math.PI / 2,\n        0,\n        \"墙面\"\n      );\n      let RightWallOne = this.createCubeWindow(\n        400,\n        130,\n        -600,\n        65,\n        0,\n        0,\n        Math.PI / 2,\n        0,\n        \"窗户\"\n      );\n      let RightWalljestList = [];\n      RightWalljestList.push(RightWallOne);\n      let EndWallCutR = this.createResultBsp(RightWall, RightWalljestList);\n      this.scene.add(EndWallCutR);\n      this.scene.add(RightWallOne);\n    },\n    initModel(model) {\n      this.initBase();\n      for (var i = 0; i < model.length; i++) {\n        var c = model[i];\n        this.createCabinet(\n          c.size.w,\n          c.servers.length > 7 ? c.servers.length * 10 : c.size.h,\n          c.size.d,\n          c.position.x,\n          c.position.y,\n          c.position.z,\n          c\n        );\n      }\n    },\n    createFloor(w, h) {\n      var texture = new THREE.ImageUtils.loadTexture(\n        \"./static/image/anliyulinggan.jpeg\"\n      );\n      texture.wrapS = texture.wrapT = THREE.RepeatWrapping;\n      texture.repeat.set(8, 8);\n      let floorGeometry = new THREE.PlaneGeometry(w, h);\n      let floorMaterial = new THREE.MeshBasicMaterial({\n        map: texture,\n        side: THREE.DoubleSide\n      });\n      floorMaterial.opacity = 1;\n      floorMaterial.transparent = true;\n      let floor = new THREE.Mesh(floorGeometry, floorMaterial);\n      floor.position.y = 0;\n      floor.rotation.x = Math.PI / 2;\n      this.scene.add(floor);\n    },\n    // 创建墙\n    createCubeWall(w, h, px, py, pz, rx, ry, rz, name) {\n      var geometry = new THREE.BoxGeometry(w, h, 5);\n      var meterial = new THREE.MeshBasicMaterial({\n        color: 0x9cb2d1,\n        opacity: 0.4,\n        transparent: false,\n        side: THREE.DoubleSide\n      });\n      var glassW = new THREE.Mesh(geometry, meterial);\n      glassW.position.x = px;\n      glassW.position.y = py;\n      glassW.position.z = pz;\n      glassW.rotation.y = ry;\n      glassW.name = name;\n      return glassW;\n    },\n    // 创建窗户\n    createCubeWindow(w, h, px, py, pz, rx, ry, rz, name) {\n      var geometry = new THREE.BoxGeometry(w, h, 5);\n      var meterial = new THREE.MeshBasicMaterial({\n        color: 0x003333,\n        opacity: 0.5,\n        transparent: true\n      });\n      var glassW = new THREE.Mesh(geometry, meterial);\n      glassW.position.x = px;\n      glassW.position.y = py;\n      glassW.position.z = pz;\n      glassW.rotation.y = ry;\n      glassW.name = name;\n      return glassW;\n    },\n    createDoor_left(width, height, depth, angle, x, y, z, name) {\n      let loader = new THREE.TextureLoader();\n      let _this = this;\n      loader.load(\"./static/image/door.png\", function(texture) {\n        texture.minFilter = THREE.LinearFilter;\n        var doorgeometry = new THREE.BoxGeometry(width, height, 5);\n        doorgeometry.translate(50, 0, 0);\n        var doormaterial = new THREE.MeshBasicMaterial({\n          map: texture,\n          color: 0xffffff\n        });\n        doormaterial.opacity = 1.0;\n        doormaterial.transparent = true;\n        var door = new THREE.Mesh(doorgeometry, doormaterial);\n        door.position.set(x, y, z);\n        door.rotation.y += angle * Math.PI; // -逆时针旋转,+顺时针\n        door.name = name;\n        _this.scene.add(door);\n      });\n    },\n    // 墙上挖门窗，通过两个几何体生成BSP对象\n    createResultBsp(bsp, objectscube) {\n      var material = new THREE.MeshPhongMaterial({\n        color: 0x9cb2d1,\n        specular: 0x9cb2d1,\n        shininess: 30,\n        transparent: true,\n        opacity: 1\n      });\n      var BSP = new ThreeBSP(bsp);\n      for (var i = 0; i < objectscube.length; i++) {\n        var lessbsp = new ThreeBSP(objectscube[i]);\n        BSP = BSP.subtract(lessbsp);\n      }\n      var result = BSP.toMesh(material);\n      result.material.flatshading = THREE.FlatShading;\n      result.geometry.computeFaceNormals(); // 重新计算几何体侧面法向量\n      result.geometry.computeVertexNormals();\n      result.material.needsUpdate = true; // 更新纹理\n      result.geometry.buffersNeedUpdate = true;\n      result.geometry.uvsNeedUpdate = true;\n      return result;\n    },\n    createCabinet(w, height, d, px, py, pz, c) {\n      let h = height;\n      let _this = this;\n      var cabinet = {};\n      cabinet.info = JSON.parse(JSON.stringify(c));\n      // 机柜的后\n      var geometry = new THREE.BoxGeometry(w, h, 2);\n      var meterial = new THREE.MeshBasicMaterial({\n        color: 0x777777,\n        opacity: 0.2,\n        transparent: true\n      });\n\n      var back = new THREE.Mesh(geometry, meterial);\n\n      back.position.x = px;\n      back.position.y = py + h / 2 + 1;\n      back.position.z = pz - d / 2 + 2;\n\n      // back.hover = function (o) {\n      //   _this.hoverCabinet(o.container)\n      // }\n      back.container = cabinet;\n\n      this.targetList.push(back);\n      this.scene.add(back);\n      cabinet.back = back;\n\n      // 机柜的左、右\n      var geometry = new THREE.BoxGeometry(w, h, 2);\n      var meterial = new THREE.MeshBasicMaterial({\n        color: 0x777777,\n        opacity: 0.9,\n        transparent: true\n      });\n\n      var left = new THREE.Mesh(geometry, meterial);\n      var right = new THREE.Mesh(geometry, meterial);\n\n      left.position.x = px + w / 2 - 1;\n      left.position.y = py + h / 2 + 1;\n      left.position.z = pz;\n      left.rotation.y = Math.PI / 2;\n\n      right.position.x = px - w / 2 + 1;\n      right.position.y = py + h / 2 + 1;\n      right.position.z = pz;\n      right.rotation.y = -Math.PI / 2;\n\n      // left.hover = function (o) {\n      //   _this.hoverCabinet(o.container)\n      // }\n      left.container = cabinet;\n      // right.hover = function (o) {\n      //   _this.hoverCabinet(o.container)\n      // }\n      right.container = cabinet;\n\n      this.targetList.push(left);\n      this.targetList.push(right);\n      this.scene.add(left);\n      this.scene.add(right);\n\n      cabinet.left = left;\n      cabinet.right = right;\n\n      // 机柜的底部、顶部\n      var geometry = new THREE.BoxGeometry(w, 2, d);\n      var meterial = new THREE.MeshBasicMaterial({\n        color: 0x222222,\n        transparent: true\n      });\n\n      var top = new THREE.Mesh(geometry, meterial);\n      var bottom = new THREE.Mesh(geometry, meterial);\n\n      top.position.x = px;\n      top.position.y = py + h + 2;\n      top.position.z = pz;\n\n      bottom.position.x = px;\n      bottom.position.y = py + 2;\n      bottom.position.z = pz;\n\n      // top.hover = function (o) {\n      //   _this.hoverCabinet(o.container)\n      // }\n      top.container = cabinet;\n      // bottom.hover = function (o) {\n      //   _this.hoverCabinet(o.container)\n      // }\n      bottom.container = cabinet;\n\n      this.targetList.push(top);\n      this.targetList.push(bottom);\n      this.scene.add(top);\n      this.scene.add(bottom);\n\n      cabinet.top = top;\n      cabinet.bottom = bottom;\n\n      // 机柜门\n      var geometry = new THREE.BoxGeometry(w, h, 2);\n      var meterial = new THREE.MeshBasicMaterial({\n        color: 0x003333,\n        opacity: 0.5,\n        transparent: true\n      });\n\n      var front = new THREE.Mesh(geometry, meterial);\n\n      front.position.x = px;\n      front.position.y = py + h / 2 + 1;\n      front.position.z = pz + d / 2;\n      front.toggle = function(o) {\n        if (o.rotation.y === 0) {\n          o.rotation.y = o.rotation.y + (Math.PI * 3) / 5;\n          o.position.x = o.position.x + w / 2 + 3;\n          o.position.z = o.position.z + d / 2;\n\n          _this.openCabinet(o.container);\n        } else {\n          o.rotation.y = o.rotation.y - (Math.PI * 3) / 5;\n          o.position.x = o.position.x - w / 2 - 3;\n          o.position.z = o.position.z - d / 2;\n\n          // 关闭机柜门时，将机柜中的服务器收起\n          for (var i = 0; i < o.container.servers.length; i++) {\n            o.container.servers[i].toggle(o.container.servers[i], false);\n          }\n\n          _this.closeCabinet(o.container);\n        }\n      };\n      // front.hover = function (o) {\n      //   _this.hoverCabinet(o.container)\n      // }\n      front.container = cabinet;\n\n      this.scene.add(front);\n      this.targetList.push(front);\n\n      cabinet.front = front;\n      cabinet.servers = [];\n\n      if (c && c.servers) {\n        cabinet.info = c;\n        for (var i = 0; i < c.servers.length; i++) {\n          var server = this.createServer(\n            w - 4,\n            4,\n            d - 4,\n            px,\n            py + 9 * (i + 1),\n            pz + 2,\n            c.servers[i].device.status\n          ); // 服务器的厚度默认为 4， 服务器之间的间隔为 5\n          server.container = cabinet;\n          server.info = c.servers[i];\n          cabinet.servers.push(server);\n        }\n      }\n\n      return cabinet;\n    },\n    createServer(w, h, d, px, py, pz, statue = 0) {\n      let _this = this;\n      // 服务器\n      // var texture = new THREE.ImageUtils.loadTexture( 'data:image/gif;base64,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' );\n      let ServerStatue =\n        statue === 0\n          ? \"./static/image/server.png\"\n          : \"./static/image/serverError.png\";\n      var texture = new THREE.ImageUtils.loadTexture(ServerStatue);\n      texture.wrapS = texture.wrapT = THREE.ClampToEdgeWrapping;\n      texture.repeat.set(1, 1);\n\n      var texture_back = new THREE.ImageUtils.loadTexture(\n        \"./static/image/server-back.png\"\n      );\n      texture_back.wrapS = texture_back.wrapT = THREE.ClampToEdgeWrapping;\n      texture_back.repeat.set(1, 1);\n\n      var geometry = new THREE.BoxGeometry(w, h, d);\n      // var material = new THREE.MeshBasicMaterial( { map: texture } );\n      // Create an array of materials to be used in a cube, one for each side\n      var materialArray = [];\n      // order to add materials: x+,x-,y+,y-,z+,z-\n      materialArray.push(new THREE.MeshBasicMaterial({ color: 0xbbbbbb }));\n      materialArray.push(new THREE.MeshBasicMaterial({ color: 0xbbbbbb }));\n      materialArray.push(new THREE.MeshBasicMaterial({ color: 0xbbbbbb }));\n      materialArray.push(new THREE.MeshBasicMaterial({ color: 0xbbbbbb }));\n      materialArray.push(new THREE.MeshBasicMaterial({ map: texture }));\n      materialArray.push(new THREE.MeshBasicMaterial({ map: texture_back }));\n      var material = new THREE.MeshFaceMaterial(materialArray);\n\n      var server = new THREE.Mesh(geometry, material);\n\n      server.position.x = px;\n      server.position.y = py;\n      server.position.z = pz;\n\n      server.toggle = function(o, openOrClose) {\n        // 关闭同一机柜中的其他服务器\n        for (let i = 0; i < o.container.servers.length; i++) {\n          if (o === o.container.servers[i]) continue;\n          if (o.container.servers[i].position.z === pz) {\n          } else {\n            o.container.servers[i].position.z =\n              o.container.servers[i].position.z - d / 2;\n            //\n            _this.closeServer(o.container.servers[i]);\n          }\n        }\n\n        if (o.position.z === pz) {\n          if (openOrClose == null || openOrClose) {\n            o.position.z = o.position.z + d / 2;\n            // 打开服务器时，处理其他逻辑\n            _this.openServer(o);\n          }\n        } else {\n          if (openOrClose === null || !openOrClose) {\n            o.position.z = o.position.z - d / 2;\n            // 关上服务器时，处理其他逻辑\n            _this.closeServer(o);\n          }\n        }\n      };\n      server.hover = function(o) {\n        _this.hoverServer(o);\n      };\n\n      this.scene.add(server);\n      this.targetList.push(server);\n      return server;\n    },\n    onDocumentMouseMove(event) {\n      // the following line would stop any other event handler from firing\n      // (such as the mouse's TrackballControls)\n      // event.preventDefault();\n      // let _this = this\n      // update the mouse variable\n      this.mouse.x = (event.clientX / this.SCREEN_WIDTH) * 2 - 1;\n      this.mouse.y = -(event.clientY / this.SCREEN_HEIGHT) * 2 + 1;\n\n      // find intersections\n\n      // create a Ray with origin at the mouse position\n      //   and direction into the scene (camera direction)\n      var vector = new THREE.Vector3(this.mouse.x, this.mouse.y, 1).unproject(\n        this.camera\n      );\n      var ray = new THREE.Raycaster(\n        this.camera.position,\n        vector.sub(this.camera.position).normalize()\n      );\n\n      // create an array containing all objects in the scene with which the ray intersects\n      var intersects = ray.intersectObjects(this.targetList);\n\n      // if there is one (or more) intersections\n      if (intersects.length > 0) {\n        // console.log(\"Hit @ \" + toString( intersects[0].point ) );\n        // change the color of the closest face.\n        // intersects[ 0 ].face.color.setRGB( 0.8 * Math.random() + 0.2, 0, 0 );\n        // intersects[ 0 ].object.geometry.colorsNeedUpdate = true;\n      }\n    },\n\n    onDocumentMouseDown(event) {\n      // the following line would stop any other event handler from firing\n      // (such as the mouse's TrackballControls)\n      // event.preventDefault();\n\n      // console.log(\"Click.\");\n\n      // update the mouse variable\n      this.mouse.x = (event.clientX / this.SCREEN_WIDTH) * 2 - 1;\n      this.mouse.y = -(event.clientY / this.SCREEN_HEIGHT) * 2 + 1;\n      // find intersections\n\n      // create a Ray with origin at the mouse position\n      //   and direction into the scene (camera direction)\n      var vector = new THREE.Vector3(this.mouse.x, this.mouse.y, 1).unproject(\n        this.camera\n      );\n      var ray = new THREE.Raycaster(\n        this.camera.position,\n        vector.sub(this.camera.position).normalize()\n      );\n\n      // create an array containing all objects in the scene with which the ray intersects\n      var intersects = ray.intersectObjects(this.targetList);\n      // if there is one (or more) intersections\n      if (intersects.length > 0) {\n        // console.log(\"Hit @ \" + toString( intersects[0].point ) );\n        // change the color of the closest face.\n        // intersects[ 0 ].face.color.setRGB( 0.8 * Math.random() + 0.2, 0, 0 );\n        // intersects[ 0 ].object.geometry.colorsNeedUpdate = true;\n\n        var o = intersects[0].object;\n        if (typeof o.toggle === \"function\") {\n          o.toggle(o);\n        }\n      }\n    },\n    // 处理服务器打开、关闭时，信息的展示和隐藏\n    closeCabinet(o) {\n      console.log(\"closeCabinet\");\n    },\n    openCabinet(o) {\n      // console.log(o);\n      this.setTheRouterStatus({ cabinetId: o.info.uuid });\n      this.$router.push({\n        name: \"dailyMainJiGui\"\n      });\n      console.log(\"openCabinet\");\n    },\n    hoverCabinet(o) {\n      console.log(\"hoverCabinet\");\n    },\n    closeServer(o) {\n      console.log(\"closeServer\");\n    },\n    openServer(o) {\n      console.log(\"openServer\");\n    },\n    hoverServer(o) {\n      console.log(\"hoverServer\");\n    },\n    getWebsocketMsg(sourDate) {\n      let _this = this;\n      if (!_this.fristBack && sourDate.length > 0) {\n        for (let base of sourDate) {\n          let item = base;\n          let c = base;\n          let w = item.size.w;\n          let d = item.size.d;\n          let px = item.position.x;\n          let py = item.position.y;\n          let pz = item.position.z;\n          if (c && c.servers) {\n            for (var i = 0; i < c.servers.length; i++) {\n              _this.createServer(\n                w - 4,\n                4,\n                d - 4,\n                px,\n                py + 9 * (i + 1),\n                pz + 2,\n                c.servers[i].device.status\n              ); // 服务器的厚度默认为 4， 服务器之间的间隔为 5\n            }\n          }\n        }\n      }\n      if (_this.fristBack && sourDate.length > 0) {\n        this.init(sourDate);\n        this.animate();\n      }\n      return new Promise(function(resolve, reject) {\n        resolve();\n      });\n    }\n  },\n  mounted() {\n    let fullUrl =\n      this.showType === \"东莞\"\n        ? \"/wukangscreen/daCentreTopFengGRoomViewWebSocket/admin\"\n        : this.showType === \"深圳\"\n        ? \"/wukangscreen/daCentreTopHouHRoomViewWebSocket/admin\"\n        : \"/wukangscreen/daCentreTopJingQRoomViewWebSocket/admin\";\n    // eslint-disable-next-line no-undef\n    this.wsuri = BaseUrl.dailyCenterMain.JingFangWebsockUrl + fullUrl;\n\n    // let model = [\n    //   // {\n    //   //   'uuid': '1',\n    //   //   'id': 1,\n    //   //   'name': '1号机柜',\n    //   //   'size': {w: 30, h: 70, d: 30}, // 尺寸\n    //   //   'position': {x: 0, y: 0, z: 0}, // 位置\n    //   //   'servers': [\n    //   //     // {'uuid': '11', 'id': 11, 'name': '1号服务器', 'ip': '', 'apps': '', 'status': 0},\n    //   //     // {'uuid': '12', 'id': 12, 'name': '2号服务器', 'ip': '', 'apps': '', 'status': 0},\n    //   //     // {'uuid': '13', 'id': 13, 'name': '3号服务器', 'ip': '', 'apps': '', 'status': 0},\n    //   //     // {'uuid': '14', 'id': 14, 'name': '4号服务器', 'ip': '', 'apps': '', 'status': 0},\n    //   //     // {'uuid': '15', 'id': 15, 'name': '5号服务器', 'ip': '', 'apps': '', 'status': 0},\n    //   //     // {'uuid': '16', 'id': 16, 'name': '6号服务器', 'ip': '', 'apps': '', 'status': 0},\n    //   //     // {'uuid': '17', 'id': 17, 'name': '7号服务器', 'ip': '', 'apps': '', 'status': 0}\n    //   //   ]\n    //   // }\n    //   {\n    //     'type': 'room',\n    //     'uuid': '2',\n    //     'roomId': 'adfadfsdfdsfsdfafadsfafsd',\n    //     'name': '2号机柜',\n    //     'roomName': '上海金桥',\n    //     'size': {w: 30, h: 70, d: 30}, // 三维位置\n    //     'position': {x: 0, y: 0, z: 0}, // 三维尺寸\n    //     'uTotal': 50,\n    //     'servers': [\n    //       {\n    //         color: '',\n    //         position: ['15'],\n    //         device: {\n    //           ip: '192.168.7.10',\n    //           name: 'rgtest-192.168.7.10',\n    //           id: 'f70b47878e7c41a4a70c2b025852bb22',\n    //           status: 1,\n    //           errorInfo: 'HP服务器告警CPU使用率超过90%',\n    //           category: 'HP',\n    //           region: 'rgtest',\n    //           categoryId: '9eb3e105645c4b46978fcf672d95cb3b'\n    //         }\n    //       },\n    //       {\n    //         color: '',\n    //         position: ['15'],\n    //         device: {\n    //           ip: '192.168.7.10',\n    //           name: 'rgtest-192.168.7.10',\n    //           id: 'f70b47878e7c41a4a70c2b025852bb22',\n    //           status: 1,\n    //           errorInfo: 'HP服务器告警CPU使用率超过90%',\n    //           category: 'HP',\n    //           region: 'rgtest',\n    //           categoryId: '9eb3e105645c4b46978fcf672d95cb3b'\n    //         }\n    //       }\n    //     ]\n    //   },\n\n    //   {\n    //     'type': 'room',\n    //     'uuid': '2',\n    //     'roomId': 'adfadfsdfdsfsdfafadsfafsd',\n    //     'name': '2号机柜',\n    //     'roomName': '上海金桥',\n    //     'size': {w: 30, h: 70, d: 30}, // 三维位置\n    //     'position': {x: 35, y: 35, z: 0}, // 三维尺寸\n    //     'uTotal': 50,\n    //     'servers': [\n    //       {\n    //         color: '',\n    //         position: ['15'],\n    //         device: {\n    //           ip: '192.168.7.10',\n    //           name: 'rgtest-192.168.7.10',\n    //           id: 'f70b47878e7c41a4a70c2b025852bb22',\n    //           status: 1,\n    //           errorInfo: 'HP服务器告警CPU使用率超过90%',\n    //           category: 'HP',\n    //           region: 'rgtest',\n    //           categoryId: '9eb3e105645c4b46978fcf672d95cb3b'\n    //         }\n    //       },\n    //       {\n    //         color: '',\n    //         position: ['15'],\n    //         device: {\n    //           ip: '192.168.7.10',\n    //           name: 'rgtest-192.168.7.10',\n    //           id: 'f70b47878e7c41a4a70c2b025852bb22',\n    //           status: 1,\n    //           errorInfo: 'HP服务器告警CPU使用率超过90%',\n    //           category: 'HP',\n    //           region: 'rgtest',\n    //           categoryId: '9eb3e105645c4b46978fcf672d95cb3b'\n    //         }\n    //       }\n    //     ]\n    //   }\n    // ]\n    // this.getWebsocketMsg(model);\n    // this.getWebsocketMsg(window.model);\n  }\n};\n</script>\n\n<style scoped>\n.mainBox {\n  width: 1920px;\n  height: 720px;\n  position: relative;\n}\n.mapPoint {\n  position: absolute;\n  width: 1920px;\n  height: 720px;\n  top: 0;\n  left: 0;\n}\n.mapTitle {\n  position: absolute;\n  top: 210px;\n  left: 50px;\n  width: 17px;\n  word-wrap: break-word;\n  font-size: 32px;\n  font-weight: normal;\n  font-stretch: normal;\n  line-height: 35.3px;\n  letter-spacing: 0px;\n  color: #96d1ff;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/DailyOperation/center/children/jifangAll.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"mainBox\",style:({ backgroundImage: ' url(' + _vm.backgroundImage + ')' })},[_c('section',{staticClass:\"mapTitle\"},[_vm._v(\"\\n    \"+_vm._s(_vm.showType === \"东莞\"\n        ? \"东莞凤岗机房俯视图\"\n        : _vm.showType === \"深圳\"\n        ? \"深圳后海机房俯视图\"\n        : \"上海金桥机房俯视图\")+\"\\n  \")]),_vm._v(\" \"),_c('section',{staticClass:\"mapPoint\",attrs:{\"id\":_vm.container}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bfad7f88\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/DailyOperation/center/children/jifangAll.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bfad7f88\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./jifangAll.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./jifangAll.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./jifangAll.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bfad7f88\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./jifangAll.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-bfad7f88\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/DailyOperation/center/children/jifangAll.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}